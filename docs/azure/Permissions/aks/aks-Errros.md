# ERRORES

## Tabla de Errores

| ERRORES | Number |
|---| --- |
| ERROR: failed to create cluster: failed to get ACR auth token: Failed to obtain the ACR token with the provided credentials, please check the roles assigned to the correspondent Azure AD app | 1 |
| I1003 07:36:22.093273       1 azuremanagedcontrolplane_controller.go:247] controllers.AzureManagedControlPlaneReconciler.reconcileNormal "msg"="requeuing due to transient transient failure" "AzureManagedControlPlane"={"name":"jazure","namespace":"cluster-jazure"} "controller"="azuremanagedcontrolplane" "controllerGroup"="infrastructure.cluster.x-k8s.io" "controllerKind"="AzureManagedControlPlane" "error"="failed to reconcile AzureManagedControlPlane service group: failed to get existing resource jazure/jazure (service: group): resources.GroupsClient#Get: Failure responding to request: StatusCode=403 -- Original Error: autorest/azure: Service returned an error. Status=403 Code=\"AuthorizationFailed\" Message=\"The client '7668c31d-c32f-470c-b356-ac0f43c62795' with object id '7668c31d-c32f-470c-b356-ac0f43c62795' does not have authorization to perform action 'Microsoft.Resources/subscriptions/resourcegroups/read' over scope '/subscriptions/6e2a38cd-ef16-47b3-a75e-5a4960cedf65/resourcegroups/jazure' or the scope is invalid. If access was recently granted, please refresh your credentials.\". Object will be requeued after 15s" "name"="jazure" "namespace"="cluster-jazure" "reconcileID"="a401db61-f7ad-4a02-9a12-d1a9a85adae4" "x-ms-correlation-request-id"="0c46fc18-e17f-43c7-9f67-f5fc8ff15e4e" | 2 |
| E1003 07:41:12.836437       1 controller.go:329]  "msg"="Reconciler error" "error"="error creating AzureManagedControlPlane cluster-jazure/jazure: failed to reconcile AzureManagedControlPlane service group: failed to create resource jazure/jazure (service: group): resources.GroupsClient#CreateOrUpdate: Failure responding to request: StatusCode=403 -- Original Error: autorest/azure: Service returned an error. Status=403  Code=\"AuthorizationFailed\" Message=\"The client '7668c31d-c32f-470c-b356-ac0f43c62795' with object id '7668c31d-c32f-470c-b356-ac0f43c62795' does not have authorization to perform action 'Microsoft.Resources/subscriptions/resourcegroups/write' over scope '/subscriptions/6e2a38cd-ef16-47b3-a75e-5a4960cedf65/resourcegroups/jazure' or the scope is invalid. If access was recently granted, please refresh your credentials .\"" "AzureManagedControlPlane"={"name":"jazure","namespace":"cluster-jazure"} "controller"="azuremanagedcontrolplane" "controllerGroup"="infrastructure.cluster.x-k8s.io" "controllerKind"="AzureManagedControlPlane" "name"="jazure" "namespace"="cluster-jazure" "reconcileID"="c122c1ca-349f-4d2e-a81b-3fd37ef4df2e" | 3 |
| 2795' does not have authorization to perform action 'Microsoft.Network/virtualNetworks/read' over scope '/subscriptions/6e2a38cd-ef16-47b3-a75e-5a4960cedf65/resourceGroups/jazure/providers/Microsoft.Network/virtualNetworks/jazure' or the scope is invalid. If access was recently granted, please refresh your credentials.\". Object will be requeued after 15s" "name"="jazure" "namespace"="cluster-jazure" "reconcileID"="2cade510-71d8-46dd-8106-5a7dd7dfcc8f" "x-ms-correlation-request-id"="f61e9e1c-d995-4c96-95bc-a24b3ec5d4d0"
| I1003 07:45:19.291701       1 azuremanagedcontrolplane_controller.go:247] controllers.AzureManagedControlPlaneReconciler.reconcileNormal "msg"="requeuing due to transient transient failure" "AzureManagedControlPlane"={"name":"jazure","namespace":"cluster-jazure"} "controller"="azuremanagedcontrolplane" "controllerGroup"="infrastructure.cluster.x-k8s.io" "controllerKind"="AzureManagedControlPlane" "error"="failed to reconcile AzureManagedControlPlane service virtualnetworks: failed to get existing resource jazure/jazure (service: virtualnetworks): network.VirtualNetworksClient#Get: Failure responding to request: StatusCode=403 -- Original Error: autorest/azure: Service returned an error. Status=403 Code=\"AuthorizationFailed\" Message=\"The client '7668c31d-c32f-470c-b356-ac0f43c62795' with object id '7668c31d-c32f-470c-b356-ac0f43c62795' does not have authorization to perform action 'Microsoft.Network/virtualNetworks/read' over scope '/subscriptions/6e2a38cd-ef16-47b3-a75e-5a4960cedf65/resourceGroups/jazure/providers/Microsoft.Network/virtualNetworks/jazure' or the scope is invalid. If access was recently granted, please refresh your credentials.\". Object will be requeued after 15s" "name"="jazure" "namespace"="cluster-jazure" "reconcileID"="0fab4164-1d23-4c06-b4de-0c138000d908" "x-ms-correlation-request-id"="f8ccbcd5-26b6-474b-a026-42bdc611e643" | 4 |  
| E1003 07:46:36.181411       1 managedcontrolplane.go:398] scope.ManagedControlPlaneScope.IsVnetManaged "msg"="Unable to determine if ManagedControlPlaneScope VNET is managed by capz" "error"="resources.TagsClient#GetAtScope: Failure responding to request: StatusCode=403 -- Original Error: autorest/azure: Service returned an error. Status=403 Code=\"AuthorizationFailed\" Message=\"The client '7668c31d-c32f-470c-b356-ac0f43c62795' with object id '7668c31d-c32f-470c-b356-ac0f43c62795' does not have authorization to perform action 'Microsoft.Resources/tags/read' over scope '/subscriptions/6e2a38cd-ef16-47b3-a75e-5a4960cedf65/resourceGroups/jazure/providers/Microsoft.Network/virtualNetworks/jazure/providers/Microsoft.Resources/tags/default' or the scope is invalid. If access was recently granted, please refresh your credentials.\"" "AzureManagedCluster"="jazure" "x-ms-correlation-request-id"="79efad47-5c1f-4b10-9d7c-8950632b66f2" | 5 |
| E1003 07:49:57.102364       1 controller.go:329]  "msg"="Reconciler error" "error"="error creating AzureManagedControlPlane cluster-jazure/jazure: failed to reconcile AzureManagedControlPlane service virtualnetworks: failed to create resource jazure/jazure (service: virtualnetworks): network.VirtualNetworksClient#CreateOrUpdate: Failure sending request: StatusCode=403 -- Original Error: Code=\"AuthorizationFailed\" Message=\"The client '7668c31d-c32f-470c-b356-ac0f43c62795' with object id '7668c31d-c32f-470c-b356-ac0f43c62795' does not have authorization to perform action 'Microsoft.Network/virtualNetworks/write' over scope '/subscriptions/6e2a38cd-ef16-47b3-a75e-5a4960cedf65/resourceGroups/jazure/providers/Microsoft.Network/virtualNetworks/jazure' or the scope is invalid. If access was recently granted, please refresh your credentials.\"" "AzureManagedControlPlane"={"name":"jazure","namespace":"cluster-jazure"} "controller"="azuremanagedcontrolplane" "controllerGroup"="infrastructure.cluster.x-k8s.io" "controllerKind"="AzureManagedControlPlane" "name"="jazure" "namespace"="cluster-jazure" "reconcileID"="614de3c7-9109-4614-8bd3-5e416e5aa430" | 6 |
| I1003 07:51:31.187873       1 azuremanagedcontrolplane_controller.go:247] controllers.AzureManagedControlPlaneReconciler.reconcileNormal "msg"="requeuing due to transient transient failure" "AzureManagedControlPlane"={"name":"jazure","namespace":"cluster-jazure"} "controller"="azuremanagedcontrolplane" "controllerGroup"="infrastructure.cluster.x-k8s.io" "controllerKind"="AzureManagedControlPlane" "error"="failed to reconcile AzureManagedControlPlane service subnets: failed to get existing resource jazure/jazure (service: subnets): network.SubnetsClient#Get: Failure responding to request: StatusCode=403 -- Original Error: autorest/azure: Service returned an error. Status=403 Code=\"AuthorizationFailed\" Message=\"The client '7668c31d-c32f-470c-b356-ac0f43c62795' with object id '7668c31d-c32f-470c-b356-ac0f43c62795' does not have authorization to perform action 'Microsoft.Network/virtualNetworks/subnets/read' over scope '/subscriptions/6e2a38cd-ef16-47b3-a75e-5a4960cedf65/resourceGroups/jazure/providers/Microsoft.Network/virtualNetworks/jazure/subnets/jazure' or the scope is invalid. If access was recently granted, please refresh your credentials.\". Object will be requeued after 15s" "name"="jazure" "namespace"="cluster-jazure" "reconcileID"="4f55852f-0a76-43b4-9d06-a33be409eb19" "x-ms-correlation-request-id"="1ec32876-e88b-47ea-a99b-1abdc0e62aef" | 7 |
| E1003 07:55:01.787864       1 controller.go:329]  "msg"="Reconciler error" "error"="error creating AzureManagedControlPlane cluster-jazure/jazure: failed to reconcile AzureManagedControlPlane service subnets: failed to create resource jazure/jazure (service: subnets): network.SubnetsClient#CreateOrUpdate: Failure sending request: StatusCode=403 -- Original Error: Code=\"AuthorizationFailed\" Message=\"The client '7668c31d-c32f-470c-b356-ac0f43c62795' with object id '7668c31d-c32f-470c-b356-ac0f43c62795' does not have authorization to perform action 'Microsoft.Network/virtualNetworks/subnets/write' over scope '/subscriptions/6e2a38cd-ef16-47b3-a75e-5a4960cedf65/resourceGroups/jazure/providers/Microsoft.Network/virtualNetworks/jazure/subnets/jazure' or the scope is invalid. If access was recently granted, please refresh your credentials.\"" "AzureManagedControlPlane"={"name":"jazure","namespace":"cluster-jazure"} "controller"="azuremanagedcontrolplane" "controllerGroup"="infrastructure.cluster.x-k8s.io" "controllerKind"="AzureManagedControlPlane" "name"="jazure" "namespace"="cluster-jazure" "reconcileID"="4e37b73d-1a02-4f64-8938-eb9efb6b37ee" | 8 |
| I1003 07:56:36.039815       1 azuremanagedcontrolplane_controller.go:247] controllers.AzureManagedControlPlaneReconciler.reconcileNormal "msg"="requeuing due to transient transient failure" "AzureManagedControlPlane"={"name":"jazure","namespace":"cluster-jazure"} "controller"="azuremanagedcontrolplane" "controllerGroup"="infrastructure.cluster.x-k8s.io" "controllerKind"="AzureManagedControlPlane" "error"="failed to reconcile AzureManagedControlPlane service managedcluster: failed to get existing resource jazure/jazure (service: managedcluster): containerservice.ManagedClustersClient#Get: Failure responding to request: StatusCode=403 -- Original Error: autorest/azure: Service returned an error. Status=403 Code=\"AuthorizationFailed\" Message=\"The client '7668c31d-c32f-470c-b356-ac0f43c62795' with object id '7668c31d-c32f-470c-b356-ac0f43c62795' does not have authorization to perform action 'Microsoft.ContainerService/managedClusters/read' over scope '/subscriptions/6e2a38cd-ef16-47b3-a75e-5a4960cedf65/resourceGroups/jazure/providers/Microsoft.ContainerService/managedClusters/jazure' or the scope is invalid. If access was recently granted, please refresh your credentials.\". Object will be requeued after 15s" "name"="jazure" "namespace"="cluster-jazure" "reconcileID"="cd2f1739-37b2-44a2-8525-1c34688ac4ed" "x-ms-correlation-request-id"="95b59a2d-83d3-4de9-9cbe-d3d84ce38a41" | 9 |
| E1003 07:57:32.869509       1 controller.go:329]  "msg"="Reconciler error" "error"="error creating AzureManagedControlPlane cluster-jazure/jazure: failed to reconcile AzureManagedControlPlane service managedcluster: failed to create resource jazure/jazure (service: managedcluster): Code=\"AuthorizationFailed\" Message=\"The client '7668c31d-c32f-470c-b356-ac0f43c62795' with object id '7668c31d-c32f-470c-b356-ac0f43c62795' does not have authorization to perform action 'Microsoft.ContainerService/managedClusters/write' over scope '/subscriptions/6e2a38cd-ef16-47b3-a75e-5a4960cedf65/resourceGroups/jazure/providers/Microsoft.ContainerService/managedClusters/jazure' or the scope is invalid. If access was recently granted, please refresh your credentials.\"" "AzureManagedControlPlane"={"name":"jazure","namespace":"cluster-jazure"} "controller"="azuremanagedcontrolplane" "controllerGroup"="infrastructure.cluster.x-k8s.io" "controllerKind"="AzureManagedControlPlane" "name"="jazure" "namespace"="cluster-jazure" "reconcileID"="cd1298cd-060a-4396-a196-0720db93c05e" | 10 |
| E1003 07:58:08.330024       1 controller.go:329]  "msg"="Reconciler error" "error"="error creating AzureManagedControlPlane cluster-jazure/jazure: failed to reconcile AzureManagedControlPlane service managedcluster: failed to create resource jazure/jazure (service: managedcluster): Code=\"LinkedAuthorizationFailed\" Message=\"The client '7668c31d-c32f-470c-b356-ac0f43c62795' with object id '7668c31d-c32f-470c-b356-ac0f43c62795' has permission to perform action 'Microsoft.ContainerService/managedClusters/write' on scope '/subscriptions/6e2a38cd-ef16-47b3-a75e-5a4960cedf65/resourceGroups/jazure/providers/Microsoft.ContainerService/managedClusters/jazure'; however, it does not have permission to perform action 'Microsoft.Network/virtualNetworks/subnets/join/action' on the linked scope(s) '/subscriptions/6e2a38cd-ef16-47b3-a75e-5a4960cedf65/resourceGroups/jazure/providers/Microsoft.Network/virtualNetworks/jazure/subnets/jazure' or the linked scope(s) are invalid.\"" "AzureManagedControlPlane"={"name":"jazure","namespace":"cluster-jazure"} "controller"="azuremanagedcontrolplane" "controllerGroup"="infrastructure.cluster.x-k8s.io" "controllerKind"="AzureManagedControlPlane" "name"="jazure" "namespace"="cluster-jazure" "reconcileID"="7cc774e5-6252-4d92-be7e-c23c19d339a6" | 11 |
| E1003 07:58:59.888380       1 controller.go:329]  "msg"="Reconciler error" "error"="error creating AzureManagedControlPlane cluster-jazure/jazure: failed to reconcile AzureManagedControlPlane service managedcluster: failed to create resource jazure/jazure (service: managedcluster): Code=\"LinkedAuthorizationFailed\" Message=\"The client '7668c31d-c32f-470c-b356-ac0f43c62795' with object id '7668c31d-c32f-470c-b356-ac0f43c62795' has permission to perform action 'Microsoft.ContainerService/managedClusters/write' on scope '/subscriptions/6e2a38cd-ef16-47b3-a75e-5a4960cedf65/resourceGroups/jazure/providers/Microsoft.ContainerService/managedClusters/jazure'; however, it does not have permission to perform action 'Microsoft.ManagedIdentity/userAssignedIdentities/assign/action' on the linked scope(s) '/subscriptions/6e2a38cd-ef16-47b3-a75e-5a4960cedf65/resourcegroups/capz/providers/Microsoft.ManagedIdentity/userAssignedIdentities/capz-test-controlplane' or the linked scope(s) are invalid.\"" "AzureManagedControlPlane"={"name":"jazure","namespace":"cluster-jazure"} "controller"="azuremanagedcontrolplane" "controllerGroup"="infrastructure.cluster.x-k8s.io" "controllerKind"="AzureManagedControlPlane" "name"="jazure" "namespace"="cluster-jazure" "reconcileID"="953040ca-5b24-41f8-9e7f-d9092de889ce" | 12 |
| E1003 08:04:29.154862       1 controller.go:329]  "msg"="Reconciler error" "error"="error creating AzureManagedControlPlane cluster-jazure/jazure: failed to reconcile AzureManagedControlPlane service managedcluster: failed to get credentials for managed cluster: containerservice.ManagedClustersClient#ListClusterAdminCredentials: Failure responding to request: StatusCode=403 -- Original Error: autorest/azure: Service returned an error. Status=403 Code=\"AuthorizationFailed\" Message=\"The client '7668c31d-c32f-470c-b356-ac0f43c62795' with object id '7668c31d-c32f-470c-b356-ac0f43c62795' does not have authorization to perform action 'Microsoft.ContainerService/managedClusters/listClusterAdminCredential/action' over scope '/subscriptions/6e2a38cd-ef16-47b3-a75e-5a4960cedf65/resourceGroups/jazure/providers/Microsoft.ContainerService/managedClusters/jazure' or the scope is invalid. If access was recently granted, please refresh your credentials.\"" "AzureManagedControlPlane"={"name":"jazure","namespace":"cluster-jazure"} "controller"="azuremanagedcontrolplane" "controllerGroup"="infrastructure.cluster.x-k8s.io" "controllerKind"="AzureManagedControlPlane" "name"="jazure" "namespace"="cluster-jazure" "reconcileID"="028b5577-850f-4054-ad2d-83903ae6b683" | 13 |
| I1003 08:09:27.561296       1 azuremanagedmachinepool_controller.go:282] controllers.AzureManagedMachinePoolReconciler.reconcileNormal "msg"="requeuing due to transient transient failure" "AzureManagedMachinePool"={"name":"jazure1-mp-1","namespace":"cluster-jazure"} "controller"="azuremanagedmachinepool" "controllerGroup"="infrastructure.cluster.x-k8s.io" "controllerKind"="AzureManagedMachinePool" "error"="failed to reconcile machine pool jazure1mp1: failed to get existing resource jazure/jazure1mp1 (service: agentpools): containerservice.AgentPoolsClient#Get: Failure responding to request: StatusCode=403 -- Original Error: autorest/azure: Service returned an error. Status=403 Code=\"AuthorizationFailed\" Message=\"The client '7668c31d-c32f-470c-b356-ac0f43c62795' with object id '7668c31d-c32f-470c-b356-ac0f43c62795' does not have authorization to perform action 'Microsoft.ContainerService/managedClusters/agentPools/read' over scope '/subscriptions/6e2a38cd-ef16-47b3-a75e-5a4960cedf65/resourceGroups/jazure/providers/Microsoft.ContainerService/managedClusters/jazure/agentPools/jazure1mp1' or the scope is invalid. If access was recently granted, please refresh your credentials.\". Object will be requeued after 15s" "name"="jazure1-mp-1" "namespace"="cluster-jazure" "reconcileID"="03834351-2e64-4a5c-8f46-903343e46cf1" "x-ms-correlation-request-id"="1fd9bddf-3c59-4ad8-a66a-c75b9beaad28" | 14 |
|  Failed to pull image "eosregistry.azurecr.io/keos/stratio/cluster-operator:0.1.2": rpc error: code = Unknown desc = failed to pull and unpack image "eosregistry.azurecr.io/keos/stratio/cluster-operator:0.1.2": failed to resolve reference "eosregistry.azurecr.io/keos/stratio/cluster-operator:0.1.2": failed to authorize: failed to fetch anonymous token: unexpected status from GET request to https://eosregistry.azurecr.io/oauth2/token?scope=repository%3Akeos%2Fstratio%2Fcluster-operator%3Apull&service=eosregistry.azurecr.io: 401 Unauthorized  (Node) | 15 |
| I1009 09:51:38.862202       1 azuremanagedmachinepool_controller.go:282] controllers.AzureManagedMachinePoolReconciler.reconcileNormal "msg"="requeuing due to transient transient failure" "AzureManagedMachinePool"={"name":"jazure1-mp-0","namespace":"cluster-jazure"} "controller"="azuremanagedmachinepool" "controllerGroup"="infrastructure.cluster.x-k8s.io" "controllerKind"="AzureManagedMachinePool" "error"="failed to find vm scale set in resource group jazure-nodes matching pool named jazure1mp0. Object will be requeued after 20s" "name"="jazure1-mp-0" "namespace"="cluster-jazure" "reconcileID"="770800c7-86e6-4f13-8331-62e7bfc41598" "x-ms-correlation-request-id"="28c52468-cdb7-49c4-9d9a-3495b3a4fd46" | 16 |
| E1009 11:52:56.709454       1 controller.go:329]  "msg"="Reconciler error" "error"="error creating AzureManagedMachinePool cluster-jazure/jazure1-mp-1: failed to reconcile machine pool jazure1mp1: failed to update resource jazure/jazure1mp1 (service: agentpools): failed to begin operation: Code=\"AuthorizationFailed\" Message=\"The client '7668c31d-c32f-470c-b356-ac0f43c62795' with object id '7668c31d-c32f-470c-b356-ac0f43c62795' does not have authorization to perform action 'Microsoft.ContainerService/managedClusters/agentPools/write' over scope '/subscriptions/6e2a38cd-ef16-47b3-a75e-5a4960cedf65/resourceGroups/jazure/providers/Microsoft.ContainerService/managedClusters/jazure/agentPools/jazure1mp1' or the scope is invalid. If access was recently granted, please refresh your credentials.\"" "AzureManagedMachinePool"={"name":"jazure1-mp-1","namespace":"cluster-jazure"} "controller"="azuremanagedmachinepool" "controllerGroup"="infrastructure.cluster.x-k8s.io" "controllerKind"="AzureManagedMachinePool" "name"="jazure1-mp-1" "namespace"="cluster-jazure" "reconcileID"="99d56d7a-3bec-447e-bf63-4db218d73f32" | 17 |
| I1016 08:26:12.746967       1 azuremanagedcontrolplane_controller.go:224] controllers.AzureManagedControlPlaneReconciler.reconcileNormal "msg"="Reconciling AzureManagedControlPlane" "AzureManagedControlPlane"={"name":"jazure","namespace":"cluster-jazure"} "controller"="azuremanagedcontrolplane" "controllerGroup"="infrastructure.cluster.x-k8s.io" "controllerKind"="AzureManagedControlPlane" "name"="jazure" "namespace"="cluster-jazure" "reconcileID"="4ba49f93-9371-44b8-bca3-c708d33d768f" "x-ms-correlation-request-id"="ced6e42a-e2b4-4c5a-b098-caaaebdb4d78"
E1016 08:26:16.469160       1 controller.go:329]  "msg"="Reconciler error" "error"="error creating AzureManagedControlPlane cluster-jazure/jazure: failed to reconcile AzureManagedControlPlane service managedcluster: failed to create resource jazure/jazure (service: managedcluster): Code=\"CustomKubeletIdentityMissingPermissionError\" Message=\"The cluster using user-assigned managed identity must be granted 'Managed Identity Operator' role to assign kubelet identity. You can run 'az role assignment create --assignee <control-plane-identity-principal-id> --role 'Managed Identity Operator' --scope <kubelet-identity-resource-id>' to grant the permission. See https://learn.microsoft.com/en-us/azure/aks/use-managed-identity#add-role-assignment\"" "AzureManagedControlPlane"={"name":"jazure","namespace":"cluster-jazure"} "controller"="azuremanagedcontrolplane" "controllerGroup"="infrastructure.cluster.x-k8s.io" "controllerKind"="AzureManagedControlPlane" "name"="jazure" "namespace"="cluster-jazure" "reconcileID"="4ba49f93-9371-44b8-bca3-c708d33d768f" | 18 |


